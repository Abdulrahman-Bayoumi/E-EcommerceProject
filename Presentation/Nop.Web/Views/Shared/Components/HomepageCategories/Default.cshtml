@model IList<CategoryModel>

@using Nop.Core.Domain.Catalog

@if (Model.Count > 0)
{
    <section class="category-grid home-page-category-grid mb-5">
        <style>
            .homepage-category-card {
                transition: all 0.3s ease;
                border: 1px solid #e0e0e0;
                border-radius: 8px;
                overflow: hidden;
                height: 100%;
                background: white;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .homepage-category-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 16px rgba(0,0,0,0.15);
                border-color: #007bff;
            }
            .homepage-category-card .category-image-wrapper {
                position: relative;
                overflow: hidden;
                background: #f8f9fa;
                padding-top: 75%; /* 4:3 aspect ratio */
            }
            .homepage-category-card .category-image-wrapper img {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: transform 0.3s ease;
            }
            .homepage-category-card:hover .category-image-wrapper img {
                transform: scale(1.1);
            }
            .homepage-category-card .category-title {
                padding: 15px;
                text-align: center;
                background: white;
            }
            .homepage-category-card .category-title a {
                color: #333;
                font-size: 16px;
                font-weight: 600;
                text-decoration: none;
                transition: color 0.3s ease;
            }
            .homepage-category-card .category-title a:hover {
                color: #007bff;
            }
            .homepage-category-card .category-title h3 {
                margin: 0;
                font-size: 16px;
                font-weight: 600;
            }
        </style>
        <div class="container">
            <div class="row justify-content-center">
                @foreach (var item in Model)
                {
                    <div class="col-6 col-md-4 col-lg-3 mb-4">
                        <article class="homepage-category-card">
                            <div class="category-image-wrapper">
                                <a href="@(await NopUrl.RouteGenericUrlAsync<Category>(new { SeName = item.SeName }))" 
                                   title="@item.PictureModel.Title"
                                   class="d-block h-100">
                                    @if (!string.IsNullOrEmpty(item.PictureModel.ImageUrl))
                                    {
                                        <img src="@item.PictureModel.ImageUrl" 
                                             alt="@item.PictureModel.AlternateText" 
                                             title="@item.PictureModel.Title"
                                             class="img-fluid" />
                                    }
                                    else
                                    {
                                        <div class="d-flex align-items-center justify-content-center h-100" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                            <i class="fas fa-folder fa-3x text-white"></i>
                                        </div>
                                    }
                                </a>
                            </div>
                            <div class="category-title">
                                <h3>
                                    <a href="@(await NopUrl.RouteGenericUrlAsync<Category>(new { SeName = item.SeName }))" 
                                       title="@item.PictureModel.Title">
                                        @item.Name
                                    </a>
                                </h3>
                            </div>
                        </article>
                    </div>
                }
            </div>
        </div>
    </section>
}